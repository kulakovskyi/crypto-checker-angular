<div class="currency-item" *ngIf="currency$ | async as currency; else loading">
    <div class="currency-item__row">
        <div class="card">
            <div class="card__row">
                <div class="card__image">
                    <img src="{{currency.image.large}}" alt="image">
                </div>
                <div class="card__name">{{currency.name}}</div>
            </div>
            <div class="card__description">{{currency.description.en.split('. ')[0]}}</div>
            <div class="card__detail">
                <div class="card__detail-item">Rank: {{currency.market_cap_rank}}</div>
                <div class="card__detail-item">Current Price: ${{currency.market_data.current_price.usd}}</div>
                <div class="card__detail-item">Market cup: ${{currency.market_data.market_cap.usd}}</div>
            </div>
        </div>
        <a class="currency-item__link" [routerLink]="['/coins']">Back</a>
    </div>


    <div class="chart-all__wrapper">
        <div class="chart-all__canvas">
            <canvas class="chart-all__canvas" style="height: auto"
                    baseChart [data]="lineChartData"
                    [options]="lineChartOptions"
                    [type]="lineChartType"></canvas>
        </div>
        <div class="chart-all__buttons">
            <button (click)="getGraphData(1)" [class._active]="days === 1" class="chart-all__btn">24 hours</button>
            <button (click)="getGraphData(30)" [class._active]="days === 30" class="chart-all__btn">30 days</button>
            <button (click)="getGraphData(90)" [class._active]="days === 90" class="chart-all__btn">90 days</button>
            <button (click)="getGraphData(365)" [class._active]="days === 365" class="chart-all__btn _active">1 year</button>
        </div>
    </div>
</div>

<ng-template #loading>
    Loading...
</ng-template>
